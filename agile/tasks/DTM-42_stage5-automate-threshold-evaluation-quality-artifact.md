# DTM-42: TSK-045 Stage 5 automate threshold evaluation from latest quality report artifact

## Context
- Stage 5 threshold policy is documented in `doc/05_risk_register.md`.
- `quality_report.json` artifacts are generated by local run and baseline capture flows.
- There is no automated evaluator that reads latest artifact and classifies `INFO_ONLY/WARN/CRITICAL`.

## Goal
- Implement automated threshold evaluator against latest quality report artifact.
- Make evaluator deterministic and suitable for operational review evidence.

## Non-goals
- No automatic Telegram/Jira escalation side effects in this slice.
- No threshold value changes in risk policy.

## Plan
1. Implement evaluator script for `quality_report` with latest-artifact auto-discovery.
2. Add deterministic smoke for INFO/WARN/CRITICAL branches.
3. Update docs/sprint/context/backlog and Jira evidence.
4. Run smoke checks and reminders-only dry-run sanity.

## Checklist (DoD)
- [x] Evaluator supports explicit file path and latest-artifact fallback.
- [x] Threshold logic matches `doc/05_risk_register.md`.
- [x] Smoke checks pass.
- [x] Jira/docs/sprint/context synchronized.

## Work log
- 2026-02-27: Jira `DTM-42` created and moved to `В работе`; start evidence comment added.
- 2026-02-27: Added `agent/reminder_alert_evaluator.py` with latest artifact auto-discovery and threshold evaluation (`INFO_ONLY/WARN/CRITICAL/OK`).
- 2026-02-27: Added deterministic smoke `agent/reminder_alert_evaluator_smoke.py` for branch coverage and latest file selection.
- 2026-02-27: Smoke checks passed (`py_compile`, evaluator smoke, evaluator run on latest artifact, reminders-only mock dry-run).

## Links
- Jira: DTM-42
- Policy: doc/05_risk_register.md
- Artifacts: local_run.py `--quality-report-file`, `agent/capture_baseline.py`
