# Designers's Task Manager - текущее описание проекта

## Назначение
Сервис автоматизирует управление задачами дизайн-отдела на основе Google Sheets:
- читает таблицу с задачами;
- парсит тайминги и этапы;
- строит 2 рабочих представления (по дизайнерам и по задачам);
- отправляет утренние напоминания дизайнерам в Telegram;
- использует OpenAI для стилизации текста напоминаний.

## Текущий runtime-контур
- Основной запуск: `main.py`
- Облачный запуск (Yandex Cloud handler): `index.py`
- Основной orchestration-объект: `GoogleSheetPlanner` (`core/planner.py`)

## Интеграции
- Google Sheets / Google Drive API (чтение/запись таблиц, цвета, заметки)
- Telegram Bot API (рассылка и логирование ошибок)
- OpenAI API (улучшение черновиков напоминаний)

## Входные/выходные листы Google таблицы
По текущим константам используются листы:
- `ТАБЛИЧКА` (основные задачи)
- `Дизайнеры` (представление задач по дизайнерам)
- `Календарь` (представление задач по датам/дизайнерам)
- `Задачи` (таймлайн по задачам)
- `Люди` (справочник сотрудников и чатов)

## Важное про безопасную реконструкцию
- Сейчас в `config/constants.py` задано:
  - `SHEET_NAME = 'Спонсорские ТНТ ТЕСТ'`
- Это позволяет безопасно отлаживать и рефакторить логику на тестовой таблице без риска для боевой.

## Текущие сильные стороны
- Продукт уже рабочий и используется в процессе.
- Есть единый пайплайн "прочитал -> преобразовал -> визуализировал -> напомнил".
- Логирование критических ошибок в Telegram присутствует.

## Текущие системные проблемы
- Сильная связанность бизнес-логики и интеграций.
- Низкая тестопригодность (нет автоматизированного тестового контура).
- Много "магических" правил и констант в одном месте.
- Нет разделения таблицы-источника и таблицы-приемника для безопасного сравнения результатов.
